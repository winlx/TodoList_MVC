!function(t){function c(e){if(n[e])return n[e].exports;var l=n[e]={i:e,l:!1,exports:{}};return t[e].call(l.exports,l,l.exports,c),l.l=!0,l.exports}var n={};c.m=t,c.c=n,c.d=function(t,n,e){c.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:e})},c.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return c.d(n,"a",n),n},c.o=function(t,c){return Object.prototype.hasOwnProperty.call(t,c)},c.p="/assets/",c(c.s=1)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createElement; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return EventEmitter; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return save; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return load; });\nfunction createElement(tag, props, ...children) {\r\n  const element = document.createElement(tag);\r\n\r\n  Object.keys(props).forEach((key) => {\r\n    if (key.startsWith('data-')) {\r\n      element.setAttribute(key, props[key]);\r\n    } else {\r\n      element[key] = props[key];\r\n    }\r\n  });\r\n\r\n  children.forEach((child) => {\r\n    if (typeof child === 'string') {\r\n      child = document.createTextNode(child);\r\n    }\r\n\r\n    element.appendChild(child);\r\n  });\r\n\r\n  return element;\r\n}\r\n\r\nclass EventEmitter {\r\n  constructor() {\r\n    this.events = {};\r\n  }\r\n\r\n  on(type, callback) {\r\n    this.events[type] = this.events[type] || [];\r\n    this.events[type].push(callback);\r\n  }\r\n\r\n  emit(type, arg) {\r\n    if (this.events[type]) {\r\n      this.events[type].forEach(callback => callback(arg));\r\n    }\r\n  }\r\n}\r\n\r\nfunction save(data) {\r\n  const string = JSON.stringify(data);\r\n\r\n  localStorage.setItem('todos', string);\r\n}\r\n\r\nfunction load() {\r\n  const string = localStorage.getItem('todos');\r\n  const data = JSON.parse(string);\r\n\r\n  return data;\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2hlbHBlcnMuanM/NTIyMCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZywgcHJvcHMsIC4uLmNoaWxkcmVuKSB7XHJcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcclxuXHJcbiAgT2JqZWN0LmtleXMocHJvcHMpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgaWYgKGtleS5zdGFydHNXaXRoKCdkYXRhLScpKSB7XHJcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgcHJvcHNba2V5XSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBlbGVtZW50W2tleV0gPSBwcm9wc1trZXldO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgY2hpbGQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjaGlsZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XHJcbiAgfSk7XHJcblxyXG4gIHJldHVybiBlbGVtZW50O1xyXG59XHJcblxyXG5jbGFzcyBFdmVudEVtaXR0ZXIge1xyXG4gIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgdGhpcy5ldmVudHMgPSB7fTtcclxuICB9XHJcblxyXG4gIG9uKHR5cGUsIGNhbGxiYWNrKSB7XHJcbiAgICB0aGlzLmV2ZW50c1t0eXBlXSA9IHRoaXMuZXZlbnRzW3R5cGVdIHx8IFtdO1xyXG4gICAgdGhpcy5ldmVudHNbdHlwZV0ucHVzaChjYWxsYmFjayk7XHJcbiAgfVxyXG5cclxuICBlbWl0KHR5cGUsIGFyZykge1xyXG4gICAgaWYgKHRoaXMuZXZlbnRzW3R5cGVdKSB7XHJcbiAgICAgIHRoaXMuZXZlbnRzW3R5cGVdLmZvckVhY2goY2FsbGJhY2sgPT4gY2FsbGJhY2soYXJnKSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzYXZlKGRhdGEpIHtcclxuICBjb25zdCBzdHJpbmcgPSBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxuXHJcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RvZG9zJywgc3RyaW5nKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbG9hZCgpIHtcclxuICBjb25zdCBzdHJpbmcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9kb3MnKTtcclxuICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShzdHJpbmcpO1xyXG5cclxuICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuZXhwb3J0IHsgY3JlYXRlRWxlbWVudCwgRXZlbnRFbWl0dGVyLCBzYXZlLCBsb2FkIH07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vaGVscGVycy5qc1xuLy8gbW9kdWxlIGlkID0gMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval('Object.defineProperty(__webpack_exports__, "__esModule", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__view__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__controller__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers__ = __webpack_require__(0);\n\r\n\r\n\r\n\r\n\r\nconst state = Object(__WEBPACK_IMPORTED_MODULE_3__helpers__["c" /* load */])();\r\n\r\nconst model = new __WEBPACK_IMPORTED_MODULE_0__model__["a" /* default */](state || undefined);\r\nmodel.on(\'change\', state => Object(__WEBPACK_IMPORTED_MODULE_3__helpers__["d" /* save */])(state));\r\n\r\nconst view = new __WEBPACK_IMPORTED_MODULE_1__view__["a" /* default */]();\r\nconst controller = new __WEBPACK_IMPORTED_MODULE_2__controller__["a" /* default */](model, view);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2luZGV4LmpzPzI2NDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1vZGVsIGZyb20gJy4vbW9kZWwnO1xyXG5pbXBvcnQgVmlldyBmcm9tICcuL3ZpZXcnO1xyXG5pbXBvcnQgQ29udHJvbGxlciBmcm9tICcuL2NvbnRyb2xsZXInO1xyXG5pbXBvcnQgeyBzYXZlLCBsb2FkIH0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbmNvbnN0IHN0YXRlID0gbG9hZCgpO1xyXG5cclxuY29uc3QgbW9kZWwgPSBuZXcgTW9kZWwoc3RhdGUgfHwgdW5kZWZpbmVkKTtcclxubW9kZWwub24oJ2NoYW5nZScsIHN0YXRlID0+IHNhdmUoc3RhdGUpKTtcclxuXHJcbmNvbnN0IHZpZXcgPSBuZXcgVmlldygpO1xyXG5jb25zdCBjb250cm9sbGVyID0gbmV3IENvbnRyb2xsZXIobW9kZWwsIHZpZXcpO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL2luZGV4LmpzXG4vLyBtb2R1bGUgaWQgPSAxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n')},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers__ = __webpack_require__(0);\n\r\n\r\n/**\r\n * Модель работает с данными.\r\n * Модель ничего незнает о представлении, она\r\n * вообще ничего незнает о своем окружении. Модель\r\n * только имеет методы (интерфейсы) для манипуляций над данными.\r\n */\r\nclass Model extends __WEBPACK_IMPORTED_MODULE_0__helpers__[\"a\" /* EventEmitter */] {\r\n  constructor(state = []) {\r\n    super();\r\n\r\n    this.state = state;\r\n  }\r\n\r\n  getItem(id) {\r\n    return this.state.find(item => item.id == id);\r\n  }\r\n\r\n  addItem(item) {\r\n    this.state.push(item);\r\n\r\n    this.emit('change', this.state);\r\n\r\n    return item;\r\n  }\r\n\r\n  updateItem(id, data) {\r\n    const item = this.getItem(id);\r\n\r\n    Object.assign(item, data);\r\n\r\n    this.emit('change', this.state);\r\n\r\n    return item;\r\n  }\r\n\r\n  removeItem(id) {\r\n    const index = this.state.findIndex(item => item.id == id);\r\n\r\n    if (index > -1) {\r\n      this.state.splice(index, 1);\r\n      this.emit('change', this.state);\r\n    }\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Model);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL21vZGVsLmpzPzk5MWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnLi9oZWxwZXJzJztcclxuXHJcbi8qKlxyXG4gKiDQnNC+0LTQtdC70Ywg0YDQsNCx0L7RgtCw0LXRgiDRgSDQtNCw0L3QvdGL0LzQuC5cclxuICog0JzQvtC00LXQu9GMINC90LjRh9C10LPQviDQvdC10LfQvdCw0LXRgiDQviDQv9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQuCwg0L7QvdCwXHJcbiAqINCy0L7QvtCx0YnQtSDQvdC40YfQtdCz0L4g0L3QtdC30L3QsNC10YIg0L4g0YHQstC+0LXQvCDQvtC60YDRg9C20LXQvdC40LguINCc0L7QtNC10LvRjFxyXG4gKiDRgtC+0LvRjNC60L4g0LjQvNC10LXRgiDQvNC10YLQvtC00YsgKNC40L3RgtC10YDRhNC10LnRgdGLKSDQtNC70Y8g0LzQsNC90LjQv9GD0LvRj9GG0LjQuSDQvdCw0LQg0LTQsNC90L3Ri9C80LguXHJcbiAqL1xyXG5jbGFzcyBNb2RlbCBleHRlbmRzIEV2ZW50RW1pdHRlciB7XHJcbiAgY29uc3RydWN0b3Ioc3RhdGUgPSBbXSkge1xyXG4gICAgc3VwZXIoKTtcclxuXHJcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XHJcbiAgfVxyXG5cclxuICBnZXRJdGVtKGlkKSB7XHJcbiAgICByZXR1cm4gdGhpcy5zdGF0ZS5maW5kKGl0ZW0gPT4gaXRlbS5pZCA9PSBpZCk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGl0ZW0pIHtcclxuICAgIHRoaXMuc3RhdGUucHVzaChpdGVtKTtcclxuXHJcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHRoaXMuc3RhdGUpO1xyXG5cclxuICAgIHJldHVybiBpdGVtO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlSXRlbShpZCwgZGF0YSkge1xyXG4gICAgY29uc3QgaXRlbSA9IHRoaXMuZ2V0SXRlbShpZCk7XHJcblxyXG4gICAgT2JqZWN0LmFzc2lnbihpdGVtLCBkYXRhKTtcclxuXHJcbiAgICB0aGlzLmVtaXQoJ2NoYW5nZScsIHRoaXMuc3RhdGUpO1xyXG5cclxuICAgIHJldHVybiBpdGVtO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlSXRlbShpZCkge1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLnN0YXRlLmZpbmRJbmRleChpdGVtID0+IGl0ZW0uaWQgPT0gaWQpO1xyXG5cclxuICAgIGlmIChpbmRleCA+IC0xKSB7XHJcbiAgICAgIHRoaXMuc3RhdGUuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgdGhpcy5lbWl0KCdjaGFuZ2UnLCB0aGlzLnN0YXRlKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IE1vZGVsO1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL21vZGVsLmpzXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__helpers__ = __webpack_require__(0);\n\r\n\r\n/**\r\n * Представление отвечает за внешний вид, за взаимодействие\r\n * с HTML.\r\n * Представление как и модель ничего незнает о своем окружении. Всё что знает\r\n * представление это как работать с DOM элементами.\r\n */\r\nclass View extends __WEBPACK_IMPORTED_MODULE_0__helpers__[\"a\" /* EventEmitter */] {\r\n  constructor() {\r\n    super();\r\n\r\n    this.form = document.getElementById('todo-form');\r\n    this.input = document.getElementById('add-input');\r\n    this.list = document.getElementById('todo-list');\r\n\r\n    this.form.addEventListener('submit', this.handleAdd.bind(this));\r\n  }\r\n\r\n  createElement(todo) {\r\n    const checkbox = Object(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"b\" /* createElement */])('input', {\r\n      type: 'checkbox',\r\n      className: 'checkbox',\r\n      checked: todo.completed ? 'checked' : '',\r\n    });\r\n    const label = Object(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"b\" /* createElement */])('label', { className: 'title' }, todo.title);\r\n    const editInput = Object(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"b\" /* createElement */])('input', { type: 'text', className: 'textfield' });\r\n    const editButton = Object(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"b\" /* createElement */])('button', { className: 'edit' }, 'Edit');\r\n    const removeButton = Object(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"b\" /* createElement */])('button', { className: 'remove' }, 'Remove');\r\n    const item = Object(__WEBPACK_IMPORTED_MODULE_0__helpers__[\"b\" /* createElement */])('li', {\r\n      className: `todo-item${todo.completed ? ' completed' : ''}`,\r\n      'data-id': todo.id,\r\n    }, checkbox, label, editInput, editButton, removeButton);\r\n\r\n    return this.addEventListeners(item);\r\n  }\r\n\r\n  addEventListeners(listItem) {\r\n    const checkbox = listItem.querySelector('.checkbox');\r\n    const editButton = listItem.querySelector('button.edit');\r\n    const removeButton = listItem.querySelector('button.remove');\r\n\r\n    checkbox.addEventListener('change', this.hancleToggle.bind(this));\r\n    editButton.addEventListener('click', this.handleEdit.bind(this));\r\n    removeButton.addEventListener('click', this.handleRemove.bind(this));\r\n\r\n    return listItem;\r\n  }\r\n\r\n  handleAdd(event) {\r\n    event.preventDefault();\r\n\r\n    if (!this.input.value) return alert('Enter task name');\r\n\r\n    const value = this.input.value;\r\n\r\n    this.emit('add', value);\r\n  }\r\n\r\n  hancleToggle({ target }) {\r\n    const listItem = target.parentNode;\r\n    const id = listItem.getAttribute('data-id');\r\n    const completed = target.checked;\r\n\r\n    this.emit('toggle', { id, completed });\r\n  }\r\n\r\n  handleEdit({ target }) {\r\n    const listItem = target.parentNode;\r\n    const id = listItem.getAttribute('data-id');\r\n    const label = listItem.querySelector('.title');\r\n    const input = listItem.querySelector('.textfield');\r\n    const editButton = listItem.querySelector('button.edit');\r\n    const title = input.value;\r\n    const isEditing = listItem.classList.contains('editing');\r\n\r\n    if (isEditing) {\r\n      this.emit('edit', { id, title });\r\n    } else {\r\n      input.value = label.textContent;\r\n      editButton.textContent = 'Save';\r\n      listItem.classList.add('editing');\r\n    }\r\n  }\r\n\r\n  handleRemove({ target }) {\r\n    const listItem = target.parentNode;\r\n    const id = listItem.getAttribute('data-id');\r\n\r\n    this.emit('remove', id);\r\n  }\r\n\r\n  findListItem(id) {\r\n    return this.list.querySelector(`[data-id=\"${id}\"]`);\r\n  }\r\n\r\n  show(todos) {\r\n    todos.forEach((todo) => {\r\n      const listItem = this.createElement(todo);\r\n\r\n      this.list.appendChild(listItem);\r\n    });\r\n  }\r\n\r\n  addItem(todo) {\r\n    const listItem = this.createElement(todo);\r\n\r\n    this.input.value = '';\r\n    this.list.appendChild(listItem);\r\n  }\r\n\r\n  toggleItem(todo) {\r\n    const listItem = this.findListItem(todo.id);\r\n    const checkbox = listItem.querySelector('.checkbox');\r\n\r\n    checkbox.checked = todo.completed;\r\n\r\n    if (todo.completed) {\r\n      listItem.classList.add('completed');\r\n    } else {\r\n      listItem.classList.remove('completed');\r\n    }\r\n  }\r\n\r\n  editItem(todo) {\r\n    const listItem = this.findListItem(todo.id);\r\n    const label = listItem.querySelector('.title');\r\n    const editButton = listItem.querySelector('button.edit');\r\n\r\n    label.textContent = todo.title;\r\n    editButton.textContent = 'Edit';\r\n    listItem.classList.remove('editing');\r\n  }\r\n\r\n  removeItem(id) {\r\n    const listItem = this.findListItem(id);\r\n\r\n    this.list.removeChild(listItem);\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (View);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3ZpZXcuanM/ZWVjZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVFbGVtZW50LCBFdmVudEVtaXR0ZXIgfSBmcm9tICcuL2hlbHBlcnMnO1xyXG5cclxuLyoqXHJcbiAqINCf0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1INC+0YLQstC10YfQsNC10YIg0LfQsCDQstC90LXRiNC90LjQuSDQstC40LQsINC30LAg0LLQt9Cw0LjQvNC+0LTQtdC50YHRgtCy0LjQtVxyXG4gKiDRgSBIVE1MLlxyXG4gKiDQn9GA0LXQtNGB0YLQsNCy0LvQtdC90LjQtSDQutCw0Log0Lgg0LzQvtC00LXQu9GMINC90LjRh9C10LPQviDQvdC10LfQvdCw0LXRgiDQviDRgdCy0L7QtdC8INC+0LrRgNGD0LbQtdC90LjQuC4g0JLRgdGRINGH0YLQviDQt9C90LDQtdGCXHJcbiAqINC/0YDQtdC00YHRgtCw0LLQu9C10L3QuNC1INGN0YLQviDQutCw0Log0YDQsNCx0L7RgtCw0YLRjCDRgSBET00g0Y3Qu9C10LzQtdC90YLQsNC80LguXHJcbiAqL1xyXG5jbGFzcyBWaWV3IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKCk7XHJcblxyXG4gICAgdGhpcy5mb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZG8tZm9ybScpO1xyXG4gICAgdGhpcy5pbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGQtaW5wdXQnKTtcclxuICAgIHRoaXMubGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2RvLWxpc3QnKTtcclxuXHJcbiAgICB0aGlzLmZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5oYW5kbGVBZGQuYmluZCh0aGlzKSk7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVFbGVtZW50KHRvZG8pIHtcclxuICAgIGNvbnN0IGNoZWNrYm94ID0gY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7XHJcbiAgICAgIHR5cGU6ICdjaGVja2JveCcsXHJcbiAgICAgIGNsYXNzTmFtZTogJ2NoZWNrYm94JyxcclxuICAgICAgY2hlY2tlZDogdG9kby5jb21wbGV0ZWQgPyAnY2hlY2tlZCcgOiAnJyxcclxuICAgIH0pO1xyXG4gICAgY29uc3QgbGFiZWwgPSBjcmVhdGVFbGVtZW50KCdsYWJlbCcsIHsgY2xhc3NOYW1lOiAndGl0bGUnIH0sIHRvZG8udGl0bGUpO1xyXG4gICAgY29uc3QgZWRpdElucHV0ID0gY3JlYXRlRWxlbWVudCgnaW5wdXQnLCB7IHR5cGU6ICd0ZXh0JywgY2xhc3NOYW1lOiAndGV4dGZpZWxkJyB9KTtcclxuICAgIGNvbnN0IGVkaXRCdXR0b24gPSBjcmVhdGVFbGVtZW50KCdidXR0b24nLCB7IGNsYXNzTmFtZTogJ2VkaXQnIH0sICdFZGl0Jyk7XHJcbiAgICBjb25zdCByZW1vdmVCdXR0b24gPSBjcmVhdGVFbGVtZW50KCdidXR0b24nLCB7IGNsYXNzTmFtZTogJ3JlbW92ZScgfSwgJ1JlbW92ZScpO1xyXG4gICAgY29uc3QgaXRlbSA9IGNyZWF0ZUVsZW1lbnQoJ2xpJywge1xyXG4gICAgICBjbGFzc05hbWU6IGB0b2RvLWl0ZW0ke3RvZG8uY29tcGxldGVkID8gJyBjb21wbGV0ZWQnIDogJyd9YCxcclxuICAgICAgJ2RhdGEtaWQnOiB0b2RvLmlkLFxyXG4gICAgfSwgY2hlY2tib3gsIGxhYmVsLCBlZGl0SW5wdXQsIGVkaXRCdXR0b24sIHJlbW92ZUJ1dHRvbik7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnMoaXRlbSk7XHJcbiAgfVxyXG5cclxuICBhZGRFdmVudExpc3RlbmVycyhsaXN0SXRlbSkge1xyXG4gICAgY29uc3QgY2hlY2tib3ggPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3gnKTtcclxuICAgIGNvbnN0IGVkaXRCdXR0b24gPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCdidXR0b24uZWRpdCcpO1xyXG4gICAgY29uc3QgcmVtb3ZlQnV0dG9uID0gbGlzdEl0ZW0ucXVlcnlTZWxlY3RvcignYnV0dG9uLnJlbW92ZScpO1xyXG5cclxuICAgIGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuY2xlVG9nZ2xlLmJpbmQodGhpcykpO1xyXG4gICAgZWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlRWRpdC5iaW5kKHRoaXMpKTtcclxuICAgIHJlbW92ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlUmVtb3ZlLmJpbmQodGhpcykpO1xyXG5cclxuICAgIHJldHVybiBsaXN0SXRlbTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUFkZChldmVudCkge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuaW5wdXQudmFsdWUpIHJldHVybiBhbGVydCgnRW50ZXIgdGFzayBuYW1lJyk7XHJcblxyXG4gICAgY29uc3QgdmFsdWUgPSB0aGlzLmlucHV0LnZhbHVlO1xyXG5cclxuICAgIHRoaXMuZW1pdCgnYWRkJywgdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgaGFuY2xlVG9nZ2xlKHsgdGFyZ2V0IH0pIHtcclxuICAgIGNvbnN0IGxpc3RJdGVtID0gdGFyZ2V0LnBhcmVudE5vZGU7XHJcbiAgICBjb25zdCBpZCA9IGxpc3RJdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xyXG4gICAgY29uc3QgY29tcGxldGVkID0gdGFyZ2V0LmNoZWNrZWQ7XHJcblxyXG4gICAgdGhpcy5lbWl0KCd0b2dnbGUnLCB7IGlkLCBjb21wbGV0ZWQgfSk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVFZGl0KHsgdGFyZ2V0IH0pIHtcclxuICAgIGNvbnN0IGxpc3RJdGVtID0gdGFyZ2V0LnBhcmVudE5vZGU7XHJcbiAgICBjb25zdCBpZCA9IGxpc3RJdGVtLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpO1xyXG4gICAgY29uc3QgbGFiZWwgPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKTtcclxuICAgIGNvbnN0IGlucHV0ID0gbGlzdEl0ZW0ucXVlcnlTZWxlY3RvcignLnRleHRmaWVsZCcpO1xyXG4gICAgY29uc3QgZWRpdEJ1dHRvbiA9IGxpc3RJdGVtLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbi5lZGl0Jyk7XHJcbiAgICBjb25zdCB0aXRsZSA9IGlucHV0LnZhbHVlO1xyXG4gICAgY29uc3QgaXNFZGl0aW5nID0gbGlzdEl0ZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdlZGl0aW5nJyk7XHJcblxyXG4gICAgaWYgKGlzRWRpdGluZykge1xyXG4gICAgICB0aGlzLmVtaXQoJ2VkaXQnLCB7IGlkLCB0aXRsZSB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gbGFiZWwudGV4dENvbnRlbnQ7XHJcbiAgICAgIGVkaXRCdXR0b24udGV4dENvbnRlbnQgPSAnU2F2ZSc7XHJcbiAgICAgIGxpc3RJdGVtLmNsYXNzTGlzdC5hZGQoJ2VkaXRpbmcnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGhhbmRsZVJlbW92ZSh7IHRhcmdldCB9KSB7XHJcbiAgICBjb25zdCBsaXN0SXRlbSA9IHRhcmdldC5wYXJlbnROb2RlO1xyXG4gICAgY29uc3QgaWQgPSBsaXN0SXRlbS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTtcclxuXHJcbiAgICB0aGlzLmVtaXQoJ3JlbW92ZScsIGlkKTtcclxuICB9XHJcblxyXG4gIGZpbmRMaXN0SXRlbShpZCkge1xyXG4gICAgcmV0dXJuIHRoaXMubGlzdC5xdWVyeVNlbGVjdG9yKGBbZGF0YS1pZD1cIiR7aWR9XCJdYCk7XHJcbiAgfVxyXG5cclxuICBzaG93KHRvZG9zKSB7XHJcbiAgICB0b2Rvcy5mb3JFYWNoKCh0b2RvKSA9PiB7XHJcbiAgICAgIGNvbnN0IGxpc3RJdGVtID0gdGhpcy5jcmVhdGVFbGVtZW50KHRvZG8pO1xyXG5cclxuICAgICAgdGhpcy5saXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbSh0b2RvKSB7XHJcbiAgICBjb25zdCBsaXN0SXRlbSA9IHRoaXMuY3JlYXRlRWxlbWVudCh0b2RvKTtcclxuXHJcbiAgICB0aGlzLmlucHV0LnZhbHVlID0gJyc7XHJcbiAgICB0aGlzLmxpc3QuYXBwZW5kQ2hpbGQobGlzdEl0ZW0pO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlSXRlbSh0b2RvKSB7XHJcbiAgICBjb25zdCBsaXN0SXRlbSA9IHRoaXMuZmluZExpc3RJdGVtKHRvZG8uaWQpO1xyXG4gICAgY29uc3QgY2hlY2tib3ggPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCcuY2hlY2tib3gnKTtcclxuXHJcbiAgICBjaGVja2JveC5jaGVja2VkID0gdG9kby5jb21wbGV0ZWQ7XHJcblxyXG4gICAgaWYgKHRvZG8uY29tcGxldGVkKSB7XHJcbiAgICAgIGxpc3RJdGVtLmNsYXNzTGlzdC5hZGQoJ2NvbXBsZXRlZCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbGlzdEl0ZW0uY2xhc3NMaXN0LnJlbW92ZSgnY29tcGxldGVkJyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBlZGl0SXRlbSh0b2RvKSB7XHJcbiAgICBjb25zdCBsaXN0SXRlbSA9IHRoaXMuZmluZExpc3RJdGVtKHRvZG8uaWQpO1xyXG4gICAgY29uc3QgbGFiZWwgPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCcudGl0bGUnKTtcclxuICAgIGNvbnN0IGVkaXRCdXR0b24gPSBsaXN0SXRlbS5xdWVyeVNlbGVjdG9yKCdidXR0b24uZWRpdCcpO1xyXG5cclxuICAgIGxhYmVsLnRleHRDb250ZW50ID0gdG9kby50aXRsZTtcclxuICAgIGVkaXRCdXR0b24udGV4dENvbnRlbnQgPSAnRWRpdCc7XHJcbiAgICBsaXN0SXRlbS5jbGFzc0xpc3QucmVtb3ZlKCdlZGl0aW5nJyk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVJdGVtKGlkKSB7XHJcbiAgICBjb25zdCBsaXN0SXRlbSA9IHRoaXMuZmluZExpc3RJdGVtKGlkKTtcclxuXHJcbiAgICB0aGlzLmxpc3QucmVtb3ZlQ2hpbGQobGlzdEl0ZW0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmlldztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi92aWV3LmpzXG4vLyBtb2R1bGUgaWQgPSAzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("/**\r\n * Контроллер отвечает за взаимодействие представления и модели.\r\n */\r\nclass Controller {\r\n  constructor(model, view) {\r\n    this.model = model;\r\n    this.view = view;\r\n\r\n    view.on('add', this.addTodo.bind(this));\r\n    view.on('toggle', this.toggleTodo.bind(this));\r\n    view.on('edit', this.editTodo.bind(this));\r\n    view.on('remove', this.removeTodo.bind(this));\r\n\r\n    view.show(model.state);\r\n  }\r\n\r\n  addTodo(title) {\r\n    const todo = this.model.addItem({\r\n      id: Date.now(),\r\n      title,\r\n      completed: false,\r\n    });\r\n\r\n    this.view.addItem(todo);\r\n  }\r\n\r\n  toggleTodo({ id, completed }) {\r\n    const todo = this.model.updateItem(id, { completed });\r\n\r\n    this.view.toggleItem(todo);\r\n  }\r\n\r\n  editTodo({ id, title }) {\r\n    const todo = this.model.updateItem(id, { title });\r\n\r\n    this.view.editItem(todo);\r\n  }\r\n\r\n  removeTodo(id) {\r\n    this.model.removeItem(id);\r\n    this.view.removeItem(id);\r\n  }\r\n}\r\n\r\n/* harmony default export */ __webpack_exports__[\"a\"] = (Controller);\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NvbnRyb2xsZXIuanM/NzY2MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog0JrQvtC90YLRgNC+0LvQu9C10YAg0L7RgtCy0LXRh9Cw0LXRgiDQt9CwINCy0LfQsNC40LzQvtC00LXQudGB0YLQstC40LUg0L/RgNC10LTRgdGC0LDQstC70LXQvdC40Y8g0Lgg0LzQvtC00LXQu9C4LlxyXG4gKi9cclxuY2xhc3MgQ29udHJvbGxlciB7XHJcbiAgY29uc3RydWN0b3IobW9kZWwsIHZpZXcpIHtcclxuICAgIHRoaXMubW9kZWwgPSBtb2RlbDtcclxuICAgIHRoaXMudmlldyA9IHZpZXc7XHJcblxyXG4gICAgdmlldy5vbignYWRkJywgdGhpcy5hZGRUb2RvLmJpbmQodGhpcykpO1xyXG4gICAgdmlldy5vbigndG9nZ2xlJywgdGhpcy50b2dnbGVUb2RvLmJpbmQodGhpcykpO1xyXG4gICAgdmlldy5vbignZWRpdCcsIHRoaXMuZWRpdFRvZG8uYmluZCh0aGlzKSk7XHJcbiAgICB2aWV3Lm9uKCdyZW1vdmUnLCB0aGlzLnJlbW92ZVRvZG8uYmluZCh0aGlzKSk7XHJcblxyXG4gICAgdmlldy5zaG93KG1vZGVsLnN0YXRlKTtcclxuICB9XHJcblxyXG4gIGFkZFRvZG8odGl0bGUpIHtcclxuICAgIGNvbnN0IHRvZG8gPSB0aGlzLm1vZGVsLmFkZEl0ZW0oe1xyXG4gICAgICBpZDogRGF0ZS5ub3coKSxcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIGNvbXBsZXRlZDogZmFsc2UsXHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLnZpZXcuYWRkSXRlbSh0b2RvKTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZVRvZG8oeyBpZCwgY29tcGxldGVkIH0pIHtcclxuICAgIGNvbnN0IHRvZG8gPSB0aGlzLm1vZGVsLnVwZGF0ZUl0ZW0oaWQsIHsgY29tcGxldGVkIH0pO1xyXG5cclxuICAgIHRoaXMudmlldy50b2dnbGVJdGVtKHRvZG8pO1xyXG4gIH1cclxuXHJcbiAgZWRpdFRvZG8oeyBpZCwgdGl0bGUgfSkge1xyXG4gICAgY29uc3QgdG9kbyA9IHRoaXMubW9kZWwudXBkYXRlSXRlbShpZCwgeyB0aXRsZSB9KTtcclxuXHJcbiAgICB0aGlzLnZpZXcuZWRpdEl0ZW0odG9kbyk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVUb2RvKGlkKSB7XHJcbiAgICB0aGlzLm1vZGVsLnJlbW92ZUl0ZW0oaWQpO1xyXG4gICAgdGhpcy52aWV3LnJlbW92ZUl0ZW0oaWQpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29udHJvbGxlcjtcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9jb250cm9sbGVyLmpzXG4vLyBtb2R1bGUgaWQgPSA0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4\n")}]);